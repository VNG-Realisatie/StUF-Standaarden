<!DOCTYPE html>
<!--[if lt IE 7 ]> <html class="ie ie6 lt-ie10 lt-ie9 lt-ie8 lt-ie7 no-js"  lang="nl" dir="ltr"> <![endif]-->
<!--[if IE 7 ]>    <html class="ie ie7 lt-ie10 lt-ie9 lt-ie8 no-js"  lang="nl" dir="ltr"> <![endif]-->
<!--[if IE 8 ]>    <html class="ie ie8 lt-ie10 lt-ie9 no-js"  lang="nl" dir="ltr"> <![endif]-->
<!--[if IE 9 ]>    <html class="ie ie9 lt-ie10 no-js"  lang="nl" dir="ltr"> <![endif]-->
<!--[if (gt IE 9)]><html class="ie no-js"  lang="nl" dir="ltr"  prefix="content: http://purl.org/rss/1.0/modules/content/
 dc: http://purl.org/dc/terms/
 foaf: http://xmlns.com/foaf/0.1/
 og: http://ogp.me/ns#
 rdfs: http://www.w3.org/2000/01/rdf-schema#
 sioc: http://rdfs.org/sioc/ns#
 sioct: http://rdfs.org/sioc/types#
 skos: http://www.w3.org/2004/02/skos/core#
 xsd: http://www.w3.org/2001/XMLSchema#
"> <![endif]-->
<!--[if !IE]><!--> <html class="no-js"  lang="nl" dir="ltr"  prefix="content: http://purl.org/rss/1.0/modules/content/
 dc: http://purl.org/dc/terms/
 foaf: http://xmlns.com/foaf/0.1/
 og: http://ogp.me/ns#
 rdfs: http://www.w3.org/2000/01/rdf-schema#
 sioc: http://rdfs.org/sioc/ns#
 sioct: http://rdfs.org/sioc/types#
 skos: http://www.w3.org/2004/02/skos/core#
 xsd: http://www.w3.org/2001/XMLSchema#
"> <!--<![endif]-->
  
<!-- Mirrored from discussie.kinggemeenten.nl/comment/4546 by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 04 Mar 2020 16:03:55 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8" />
<link rel="shortcut icon" href="../sites/king-community/files/favicon_0_0.ico" />
<meta name="viewport" content="initial-scale=1.0" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:200,300,400,600,700,900,200italic,300italic,400italic,600italic,700italic,900italic" rel="stylesheet" />
<meta name="description" content="Op stackoverflow heb ik een oplossing gepost voor het nillable-probleem in de context van .Net (C#): http://stackoverflow.com/questions/36936661/xml-serialization-of-nillable-elements-with-attributes-in-c-sharp Ben benieuwd wat jullie ervan vinden? En of hetzelfde idee gebruikt kan worden om het probleem in Java op te lossen." />
<meta name="generator" content="Drupal 7 (https://www.drupal.org)" />
<link rel="canonical" href="../discussie/gemma/stuf-301/xml-serialization-nillable-elements-attributes-c.html" />
<link rel="shortlink" href="../discussie/gemma/stuf-301/xml-serialization-nillable-elements-attributes-c.html" />
    <title>XML serialization of nillable elements with attributes in C# | GEMMA Discussieplatform</title>

    <link rel="stylesheet" href="../sites/king-community/files/css/css_xE-rWrJf-fncB6ztZfd2huxqgxu4WO-qwma6Xer30m4.css" />
<link rel="stylesheet" href="../sites/king-community/files/css/css_wGc8YNdubyXjHrhlqpwaoFeQ4zBA35b3QnXrNqMlVkE.css" />
<link rel="stylesheet" href="../sites/king-community/files/css/css_vhI5E1JJtg3aywB71DAnVq50mslvqi9YAmh1VTWpcec.css" />
<link rel="stylesheet" href="../sites/king-community/files/css/css_rzg76u5x4wBqeDyZooOtFpvxReEx4MdfyQRskrLnbcY.css" />
<link rel="stylesheet" href="../sites/king-community/files/css/css_47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU.css" media="print" />
<link rel="stylesheet" href="../sites/king-community/files/css/hacks.css" />
    <script src="../../ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
<script>window.jQuery || document.write("<script src='../sites/all/modules/contrib/jquery_update/replace/jquery/1.8/jquery.min.js'>\x3C/script>")</script>
<script src="../sites/king-community/files/js/js_dWhBODswdXXk1M5Z5nyqNfGljmqwxUwAK9i6D0YSDNs.js"></script>
<script>jQuery.extend(Drupal.settings, {"basePath":"\/","pathPrefix":"","ajaxPageState":{"theme":"king_community","theme_token":"J87GD6IQvb-ox7e2tTULWCWByWZTPZk5L6yuXIJoYFI","css":{"modules\/system\/system.base.css":1,"modules\/system\/system.menus.css":1,"modules\/system\/system.messages.css":1,"modules\/system\/system.theme.css":1,"modules\/comment\/comment.css":1,"modules\/field\/theme\/field.css":1,"modules\/node\/node.css":1,"sites\/all\/modules\/contrib\/picture\/picture_wysiwyg.css":1,"modules\/user\/user.css":1,"modules\/forum\/forum.css":1,"sites\/all\/modules\/contrib\/views\/css\/views.css":1,"sites\/all\/modules\/contrib\/ckeditor\/css\/ckeditor.css":1,"sites\/all\/modules\/contrib\/ctools\/css\/ctools.css":1,"sites\/all\/modules\/contrib\/advanced_forum\/styles\/naked\/advanced-forum.naked.structure.css":1,"sites\/all\/themes\/king_community\/king_community_forum\/advanced-forum.king_community_forum.style.css":1,"sites\/all\/modules\/contrib\/advanced_forum\/styles\/naked\/advanced-forum.naked.images.css":1,"sites\/all\/themes\/king_community\/king_community_forum\/advanced-forum.king_community_forum.images.css":1,"sites\/all\/themes\/king_community\/stylesheets\/style.css":1,"sites\/all\/themes\/king_community\/stylesheets\/kingbar.css":1,"sites\/all\/themes\/king_community\/stylesheets\/print.css":1},"js":{"0":1,"sites\/all\/modules\/contrib\/picture\/picturefill2\/picturefill.min.js":1,"sites\/all\/modules\/contrib\/picture\/picture.min.js":1,"sites\/all\/modules\/custom\/kc_marked_read\/js\/kc_marked_read.js":1,"public:\/\/languages\/nl_2586HP-6TR4-9gsUngNExSS31967RGuja4I2Kxk7k6E.js":1,"modules\/statistics\/statistics.js":1,"sites\/all\/modules\/custom\/kc_forum_topic_operations\/js\/kc_forum_topic_operations.js":1,"sites\/all\/themes\/photon\/js\/html5shiv.min.js":1,"sites\/all\/themes\/photon\/js\/respond.min.js":1,"sites\/all\/themes\/king_community\/javascripts\/king_community.js":1,"sites\/all\/themes\/king_community\/javascripts\/kingbar.js":1,"\/\/ajax.googleapis.com\/ajax\/libs\/jquery\/1.8.3\/jquery.min.js":1,"1":1,"misc\/jquery-extend-3.4.0.js":1,"misc\/jquery.once.js":1,"misc\/drupal.js":1,"2":1}},"urlIsAjaxTrusted":{"\/comment\/4546":true},"kcForumTopicOperations":{"requestTime":"2020-03-04T14:23:15+01:00","isModerator":false},"statistics":{"data":{"nid":"7577"},"url":"\/modules\/statistics\/statistics.php"}});</script>
  </head>
  <body class="html not-front not-logged-in no-sidebars page-node page-node- page-node-7577 node-type-forum" >
    <div id="skip-link">
      <a href="#main" class="element-invisible element-focusable" role="link">Overslaan en naar de algemene inhoud gaan</a>
    </div>
        
  <!-- ______________________ HEADER _______________________ -->

<header class="kingbar">

  <div class="kingbar-top">

    <div class="kingbar-inner">

      <span class="kingbar-title">
        <a href="../index.html" title="King Discussie" rel="home">
        GEMMA Discussieplatform</a></span>

      <nav class="kingbar-widget">

        <ul class="kingbar-inline">
                                <li class="mobile-hidden js-toggle-kingbar" data-target="#kingbarSites"><a href="#">websites VNG Realisatie</a></li>
                  </ul>

      </nav>

    </div>

  </div>

  <div id="kingbarSites" class="kingbar-middle">

    <div class="kingbar-inner">

              <nav class="sitemap">
          <div class="menu-block-wrapper menu-block-king_sites menu-name-menu-king-sites parent-mlid-0 menu-level-1">
  <ul class="menu"><li class="first expanded menu-mlid-685"><span title="" class="nolink">Kolom1</span><ul class="menu"><li class="first leaf menu-mlid-667"><a href="https://www.vngrealisatie.nl/" title="">VNG Realisatie</a></li>
<li class="leaf menu-mlid-666"><a href="https://www.waarstaatjegemeente.nl/" title="">Waarstaatjegemeente.nl</a></li>
<li class="last leaf menu-mlid-668"><a href="https://www.da2020.nl/" title="">Digitale Agenda 2020</a></li>
</ul></li>
<li class="expanded menu-mlid-686"><span title="" class="nolink">Kolom2</span><ul class="menu"><li class="first leaf menu-mlid-670"><a href="https://www.softwarecatalogus.nl/" title="">GEMMA Softwarecatalogus</a></li>
<li class="leaf menu-mlid-669"><a href="https://gemmaonline.nl/" title="">GEMMA Architectuur</a></li>
<li class="last leaf menu-mlid-671"><a href="../index.html" title="">GEMMA Discussies</a></li>
</ul></li>
<li class="last expanded menu-mlid-687"><span title="" class="nolink">Kolom3</span><ul class="menu"><li class="first leaf menu-mlid-676"><a href="https://depilotstarter.vng.nl/" title="">De Pilotstarter</a></li>
<li class="leaf menu-mlid-674"><a href="https://www.ibdgemeenten.nl/" title="">Informatiebeveiligingsdienst (IBD)</a></li>
<li class="last leaf menu-mlid-675"><a href="https://www.gemeentelijketelecommunicatie.nl/" title="">Gemeentelijke Telecommunicatie (GT)</a></li>
</ul></li>
</ul></div>
        </nav>
      
    </div>

  </div>

  <div id="kingbarSearch" class="kingbar-middle">

    <div class="kingbar-inner">

      <input type="text">

    </div>

  </div>

      <div class="kingbar-bottom">
      <div class="kingbar-inner">
                  <nav>
            <div class="menu-block-wrapper menu-block-main_menu menu-name-main-menu parent-mlid-0 menu-level-1">
  <ul class="kingbar-inline"><li class="first last leaf menu-mlid-624"><span title="" class="separator"><hr></span></li>
<li class="pull-right"><a href="../user/login.html">Inloggen</a></li>
</ul></div>
          </nav>
              </div>
    </div>
  
</header>

    <h2 class="element-invisible">U bent hier</h2><div class="breadcrumb"><span class="inline odd first"><a href="../index.html">Home</a></span> <span class="delimiter">&rsaquo;</span> <span class="inline even"><a href="../discussie/gemma.html">GEMMA</a></span> <span class="delimiter">&rsaquo;</span> <span class="inline odd"><a href="../discussie/gemma/stuf-301.html">StUF 3.01</a></span> <span class="delimiter">&rsaquo;</span> <span class="inline even last">XML serialization of nillable elements with attributes in C#</span></div><div id="block-search-api-page-kc-search-page" class="block block-search-api-page">

    <h2>Zoeken</h2>
  <div class="content"><script async src="https://cse.google.com/cse.js?cx=015320440856149852634:bijmolanimt"></script>
<div class="gcse-search"></div>
    <form action="/comment/4546" method="post" id="search-api-page-search-form-kc-search-page" accept-charset="UTF-8"><div><div class="form-item form-type-searchfield form-item-keys-1">
  <label class="element-invisible" for="edit-keys-1">Geef uw trefwoorden op </label>
 <input placeholder="Geef uw trefwoorden op" type="search" id="edit-keys-1" name="keys_1" value="" size="15" maxlength="128" class="form-text form-search" />
</div>
<input type="hidden" name="id" value="1" />
<input type="submit" id="edit-submit-1" name="op" value="Zoeken" class="form-submit" /><input type="hidden" name="form_build_id" value="form-sZu08l6LDvQ4Gl5tvZOH2cLwGYkFDVtyDS2c8o6CbU8" />
<input type="hidden" name="form_id" value="search_api_page_search_form_kc_search_page" />
</div></form>  </div>
</div>

<div class="content-wrapper clearfix">
  
      <main id="main" class="content-main" role="main">
        <h1 id="page-title" class="title">
  XML serialization of nillable elements with attributes in C#</h1><div id="block-block-1" class="block block-block">

  
  <div class="content">
    <p>Dit is een statische kopie van het eerdere discussie.kinggemeenten.nl. <br>Nieuwe discussies kunnen in de <a href="https://github.com/VNG-Realisatie/StUF-Standaarden/">GitHub repository 'StUF standaarden'</a> als issue worden opgevoerd.</p>
<style type="text/css">
.comment-form, .topic-reply-link, .forum-node-create-links, .comment-add, .comment-reply {display:none !important;}
</style>  </div>
</div>
<div id="block-system-main" class="block block-system">

    
  <div class="content">
    
  
<div id="forum-topic-header" class="forum-topic-header clearfix">
	
  <div class="topic-post-count">
  9 reacties / 0 nieuw  </div>

      <div class="topic-reply-link">
    <a href="../user/login13e4.html?destination=node/7577%23comment-form">Login</a> of <a href="../user/register13e4.html?destination=node/7577%23comment-form">registreer</a> om te kunnen reageren    </div>
  
  <a id="forum-topic-top"></a>
</div>

<div id="post-7577" class="forum-post clearfix nl posted-by-56"  about="/discussie/gemma/stuf-301/xml-serialization-nillable-elements-attributes-c" typeof="sioc:Post sioct:BoardPost" role="article">
  <div class="forum-post-info clearfix">
    <div class="forum-posted-on">
      <span property="dc:date dc:created" content="2016-05-03T16:02:30+02:00" datatype="xsd:dateTime">di, 3-05-2016 - 16.02u</span>
                </div>  
    
        
    <span class="forum-post-number"><a href="../discussie/gemma/stuf-301/xml-serialization-nillable-elements-attributes-c.html" class="active">#1</a></span>
  </div> 
  <div class="forum-post-wrapper">
    <div class="forum-post-panel-sub">
              <div class="author-pane" data-name="Henri Korver"><span class="username" xml:lang="" about="/gebruiker/henri-korver" typeof="sioc:UserAccount" property="foaf:name" datatype="">Henri Korver</span></div>          </div>

    <div class="forum-post-panel-main clearfix">
              <div class="forum-post-title">
          XML serialization of nillable elements with attributes in C#        </div>
      
      <div class="forum-post-content">
        
  <div class="field-body">
    <p>Op stackoverflow heb ik een oplossing gepost voor het nillable-probleem in de context van .Net (C#):</p>

<p><a href="http://stackoverflow.com/questions/36936661/xml-serialization-of-nillable-elements-with-attributes-in-c-sharp" rel="nofollow">http://stackoverflow.com/questions/36936661/xml-serialization-of-nillable-elements-with-attributes-in-c-sharp</a></p>

<p>Ben benieuwd wat jullie ervan vinden? En of hetzelfde idee gebruikt kan worden om het probleem in Java op te lossen.</p>  </div>
      </div>

          </div>
  </div> 
  <div class="forum-post-footer clearfix">
    <div class="forum-jump-links">
      <a href="#forum-topic-top" title="Jump to top of page" class="af-button-small"><span>Bovenaan</span></a>
    </div>

    <div class="forum-post-links">
      <ul class="links inline"><li class="post-delete-always first"><a href="../discussie/gemma/stuf-301/xml-serialization-nillable-elements-attributes-c/delete.html" class="af-button-small hidden"><span>verwijderen</span></a></li>
<li class="post-edit-always"><a href="../discussie/gemma/stuf-301/xml-serialization-nillable-elements-attributes-c/edit76b0.html?destination=node/7577" class="af-button-small hidden"><span>bewerken</span></a></li>
<li class="comment_forbidden last"><span><a href="../user/login13e4.html?destination=node/7577%23comment-form">Login</a> of <a href="../user/register13e4.html?destination=node/7577%23comment-form">registreer</a> om te kunnen reageren</span></li>
</ul>    </div>
  </div> </div> 
<div id="forum-comments" class="comment-wrapper">
  <a id="comment-4338"></a>


<div id="post-4338" class="forum-post clearfix nl posted-by-87"  about="/comment/4338#comment-4338" typeof="sioc:Post sioct:Comment">
  <div class="forum-post-info clearfix">
    <div class="forum-posted-on">
      <time datetime="2016-05-04T08:41:54+02:00">wo, 4-05-2016 - 08.41u</time>
                    
        
                  </div>  
    
        
    <span class="forum-post-number"><a href="4338.html#comment-4338" class="permalink" rel="bookmark">#2</a></span>
  </div> 
  <div class="forum-post-wrapper">
    <div class="forum-post-panel-sub">
              <div class="author-pane" data-name="Lex Uijthof"><span class="username" xml:lang="" about="/gebruiker/lex-uijthof" typeof="sioc:UserAccount" property="foaf:name" datatype="">Lex Uijthof</span></div>          </div>

    <div class="forum-post-panel-main clearfix">
      
      <div class="forum-post-content">
        <span rel="sioc:reply_of" resource="/discussie/gemma/stuf-301/xml-serialization-nillable-elements-attributes-c" class="rdf-meta element-hidden"></span>
  <div class="field-comment-body">
    <p>Bij het genereren van alleen de entiteiten is er geen probleem in Java.<br />
In Java maak ik gebruik van CXF en bij het genereren van de code worden alle elementen gewrapped in een JAXBElement class.</p>

<p>In een gegenereerd NPS object heb je o.a. de volgende definitie staan m.b.t. element overlijdensdatum.</p>

<p>    @XmlElementRef(name = "overlijdensdatum", namespace = "<a href="http://www.egem.nl/StUF/sector/bg/0310">http://www.egem.nl/StUF/sector/bg/0310</a>", type = JAXBElement.class, required = false)<br />
    protected JAXBElement&lt;DatumMetIndicator&gt; overlijdensdatum;</p>

<p>De getter en setter zijn dan:</p>

<p>    public JAXBElement&lt;DatumMetIndicator&gt; getOverlijdensdatum() {<br />
        return overlijdensdatum;<br />
    }<br />
    public void setOverlijdensdatum(JAXBElement&lt;DatumMetIndicator&gt; value) {<br />
        this.overlijdensdatum = value;<br />
    }</p>

<p>Als ik deze b.v. in een bericht wil plaatsen met een xsi:nil="true", dan gebruik ik het volgende in Java:</p>

<p>    // Maak nieuw DatumMetIndicator object en set NoValue op 'geenWaarde'.<br />
    DatumMetIndicator dmi = new DatumMetIndicator ();<br />
    dmi.setNoValue (NoValue.GEEN_WAARDE);</p>

<p>    // Wrap dit object in een JAXBElement en set de nil="true"<br />
    JAXBElement&lt;DatumMetIndicator&gt; overlijdensdatum = objFact0310.createNPSNININGBasisOverlijdensdatum (dmi);<br />
    datumOverlijden.setNil (true);</p>

<p>    // Plaats overlijdensdatum in het NPS object.<br />
    NPSNININGBasis basis = new NPSAntwoord ();        <br />
    basis.setOverlijdensdatum (overlijdensdatum);</p>

<p>    In java is het volgende stukje XSD een probleem bij het genereren:</p>

<p>    &lt;choice minOccurs="0"&gt;<br />
        &lt;sequence minOccurs="0"&gt;<br />
            &lt;element name="inp.bsn" type="BG:BSN-e" nillable="true" minOccurs="0"/&gt;<br />
            &lt;element name="authentiek" type="BG:Authentiek" default="N" nillable="true" minOccurs="0"/&gt;<br />
        &lt;/sequence&gt;<br />
        &lt;element name="anp.identificatie" type="BG:IdentificatieRPSBTL-e" nillable="true" minOccurs="0"/&gt;<br />
    &lt;/choice&gt;</p>

<p>Hier staat een choice met een minOccurs="0" waar je kan kiezen uit 2 elementen van verschillende typen.<br />
Bij het genereren van de code om deze choice wordt er een List gemaakt van Objecten omdat deze choice verschillende type (en in java verschillende classes) bevat.<br />
Wanneer ik b.v. inp.bsn nillable wil maken kan dit niet omdat er geen JAXBElement wrapper om het BSNE object kan.<br />
Voor deze elementen moet ik een interceptor gebruiken die in het uitgaande bericht de xsi:nil="true" toevoegt,</p>

<p>Ik ben nog op zoek naar een elegantere oplossing, maar nog niet gevonden.</p>  </div>
      </div>

          </div>
  </div> 
  <div class="forum-post-footer clearfix">
    <div class="forum-jump-links">
      <a href="#forum-topic-top" title="Jump to top of page" class="af-button-small"><span>Bovenaan</span></a>
    </div>

    <div class="forum-post-links">
      <ul class="links inline"><li class="comment-delete-always first"><a href="4338/delete.html" class="af-button-small hidden"><span>verwijderen</span></a></li>
<li class="comment-edit-always"><a href="4338/edit.html" class="af-button-small hidden"><span>bewerken</span></a></li>
<li class="comment_forbidden last"><span><a href="../user/login13e4.html?destination=node/7577%23comment-form">Login</a> of <a href="../user/register13e4.html?destination=node/7577%23comment-form">registreer</a> om te kunnen reageren</span></li>
</ul>    </div>
  </div> </div> 
<a id="comment-4339"></a>


<div id="post-4339" class="forum-post clearfix nl posted-by-56 post-by-starter"  about="/comment/4339#comment-4339" typeof="sioc:Post sioct:Comment">
  <div class="forum-post-info clearfix">
    <div class="forum-posted-on">
      <time datetime="2016-05-09T14:03:15+02:00">ma, 9-05-2016 - 14.03u</time>
                    
        
                  </div>  
    
        
    <span class="forum-post-number"><a href="4339.html#comment-4339" class="permalink" rel="bookmark">#3</a></span>
  </div> 
  <div class="forum-post-wrapper">
    <div class="forum-post-panel-sub">
              <div class="author-pane" data-name="Henri Korver"><span class="username" xml:lang="" about="/gebruiker/henri-korver" typeof="sioc:UserAccount" property="foaf:name" datatype="">Henri Korver</span></div>          </div>

    <div class="forum-post-panel-main clearfix">
      
      <div class="forum-post-content">
        <span rel="sioc:reply_of" resource="/discussie/gemma/stuf-301/xml-serialization-nillable-elements-attributes-c" class="rdf-meta element-hidden"></span>
  <div class="field-comment-body">
    <p>Dus als ik het goed begrijp speelt in de Java-wereld een vergelijkbaar probleem als .NET alleen komt het op een andere plek naar boven (in dit geval een choice waarin de subelementen verschillende types hebben). In feite pas jij een vergelijkbare work-around toe als ik heb voorgesteld voor .NET, namelijk het toevoegen van xsi:nil="true" na serialisatie. Alleen hoeft blijkbaar in jouw situatie de xsi:nil="true" niet weer weggehaald te worden voor de deserialisatie.</p>

<p>Met deze  work-arounds voor zowel  Java als .NET is toch prima te leven? M.a.w. is het nog wel echt nodig om de syntax van StUF ingrijpend te veranderen zoals wordt voorgesteld in <a href="../discussie/gemma/stuf-301/rfc-overbodig-maken-nillable%e2%80%9dtrue%e2%80%9d-stuf-schema%e2%80%99s.html" rel="nofollow">RFC0413</a> ...</p>

<p> </p>

<p> </p>  </div>
      </div>

          </div>
  </div> 
  <div class="forum-post-footer clearfix">
    <div class="forum-jump-links">
      <a href="#forum-topic-top" title="Jump to top of page" class="af-button-small"><span>Bovenaan</span></a>
    </div>

    <div class="forum-post-links">
      <ul class="links inline"><li class="comment-delete-always first"><a href="4339/delete.html" class="af-button-small hidden"><span>verwijderen</span></a></li>
<li class="comment-edit-always"><a href="4339/edit.html" class="af-button-small hidden"><span>bewerken</span></a></li>
<li class="comment_forbidden last"><span><a href="../user/login13e4.html?destination=node/7577%23comment-form">Login</a> of <a href="../user/register13e4.html?destination=node/7577%23comment-form">registreer</a> om te kunnen reageren</span></li>
</ul>    </div>
  </div> </div> 
<a id="comment-4340"></a>


<div id="post-4340" class="forum-post clearfix nl posted-by-668"  about="/comment/4340#comment-4340" typeof="sioc:Post sioct:Comment">
  <div class="forum-post-info clearfix">
    <div class="forum-posted-on">
      <time datetime="2016-05-09T15:36:05+02:00">ma, 9-05-2016 - 15.36u</time>
                    
        
                  </div>  
    
        
    <span class="forum-post-number"><a href="4340.html#comment-4340" class="permalink" rel="bookmark">#4</a></span>
  </div> 
  <div class="forum-post-wrapper">
    <div class="forum-post-panel-sub">
              <div class="author-pane" data-name="Rens Verhage"><span class="username" xml:lang="" about="/gebruiker/rens-verhage" typeof="sioc:UserAccount" property="foaf:name" datatype="">Rens Verhage</span></div>          </div>

    <div class="forum-post-panel-main clearfix">
      
      <div class="forum-post-content">
        <span rel="sioc:reply_of" resource="/discussie/gemma/stuf-301/xml-serialization-nillable-elements-attributes-c" class="rdf-meta element-hidden"></span>
  <div class="field-comment-body">
    <blockquote>
<p><br />
Met deze  work-arounds voor zowel  Java als .NET is toch prima te leven?</p>
</blockquote>

<p>Een gewetensvraag. Ik twijfel. Aan de ene kant is het verleidelijk om hier ja op te zeggen, aan de andere kant heeft die ja een vervelende nasmaak. Wat willen we bereiken? Uiteindelijk willen we bereiken dat verschillende softwaresystemen, geschreven in verschillende talen, op een eenduidige manier met elkaar kunnen communiceren. Nu hebben we in de standaard een constructie bedacht die weliswaar implementeerbaar is, maar waarvoor we wel door de nodige hoepels moeten springen om dat voor elkaar te krijgen. Als leverancier moeten we allemaal workarounds toepassen, om überhaupt een werkend koppelvlak te realiseren / code te genereren.</p>

<p>Wat vinden we belangrijker? Hechten we meer waarde aan een 'zuivere' standaard en nemen we alle implementatie-issues voor lief? Of geven we de voorkeur aan een standaard die meer aansluit op de software die de standaard moet ondersteunen?</p>

<p>Mijn voorkeur gaat uit naar het laatste en dan is RFC0413 zo gek nog niet.  </p>  </div>
      </div>

          </div>
  </div> 
  <div class="forum-post-footer clearfix">
    <div class="forum-jump-links">
      <a href="#forum-topic-top" title="Jump to top of page" class="af-button-small"><span>Bovenaan</span></a>
    </div>

    <div class="forum-post-links">
      <ul class="links inline"><li class="comment-delete-always first"><a href="4340/delete.html" class="af-button-small hidden"><span>verwijderen</span></a></li>
<li class="comment-edit-always"><a href="4340/edit.html" class="af-button-small hidden"><span>bewerken</span></a></li>
<li class="comment_forbidden last"><span><a href="../user/login13e4.html?destination=node/7577%23comment-form">Login</a> of <a href="../user/register13e4.html?destination=node/7577%23comment-form">registreer</a> om te kunnen reageren</span></li>
</ul>    </div>
  </div> </div> 
<a id="comment-4358"></a>


<div id="post-4358" class="forum-post clearfix nl posted-by-56 post-by-starter"  about="/comment/4358#comment-4358" typeof="sioc:Post sioct:Comment">
  <div class="forum-post-info clearfix">
    <div class="forum-posted-on">
      <time datetime="2016-05-13T13:15:10+02:00">vr, 13-05-2016 - 13.15u</time>
                    
        
                  </div>  
    
        
    <span class="forum-post-number"><a href="4358.html#comment-4358" class="permalink" rel="bookmark">#5</a></span>
  </div> 
  <div class="forum-post-wrapper">
    <div class="forum-post-panel-sub">
              <div class="author-pane" data-name="Henri Korver"><span class="username" xml:lang="" about="/gebruiker/henri-korver" typeof="sioc:UserAccount" property="foaf:name" datatype="">Henri Korver</span></div>          </div>

    <div class="forum-post-panel-main clearfix">
      
      <div class="forum-post-content">
        <span rel="sioc:reply_of" resource="/discussie/gemma/stuf-301/xml-serialization-nillable-elements-attributes-c" class="rdf-meta element-hidden"></span>
  <div class="field-comment-body">
    <p>Persoonlijk vind ik RFC0413 een paardenmiddel. Fijn dat we dit RFC achter de hand hebben als er echt geen andere oplossing is (was) maar echt vrolijk word ik er niet van. Nog nergens in de wereld heb ik een dergelijk bizarre constructie gezien en ik vrees dat RFC0413 uiteindelijk geen visitekaartje zal zijn voor StUF. Gelukkig is er een hele simpele en eenvoudige oplossing: gebruik een method die xsi:nil="true" toevoegt aan de uitgaande berichten (dus na de serialisatie) en in geval van .Net gebruik ook een method die vóór het deserialiseren het attribute xsi:nil="true" weer weghaalt (in Java is dat niet nodig). Je hoeft deze functies maar één keer toe te voegen aan je code en klaar is Kees. KING zal deze functies beschikbaar stellen, zie de volgende post.</p>  </div>
      </div>

          </div>
  </div> 
  <div class="forum-post-footer clearfix">
    <div class="forum-jump-links">
      <a href="#forum-topic-top" title="Jump to top of page" class="af-button-small"><span>Bovenaan</span></a>
    </div>

    <div class="forum-post-links">
      <ul class="links inline"><li class="comment-delete-always first"><a href="4358/delete.html" class="af-button-small hidden"><span>verwijderen</span></a></li>
<li class="comment-edit-always"><a href="4358/edit.html" class="af-button-small hidden"><span>bewerken</span></a></li>
<li class="comment_forbidden last"><span><a href="../user/login13e4.html?destination=node/7577%23comment-form">Login</a> of <a href="../user/register13e4.html?destination=node/7577%23comment-form">registreer</a> om te kunnen reageren</span></li>
</ul>    </div>
  </div> </div> 
<a id="comment-4359"></a>


<div id="post-4359" class="forum-post clearfix nl posted-by-56 post-by-starter"  about="/comment/4359#comment-4359" typeof="sioc:Post sioct:Comment">
  <div class="forum-post-info clearfix">
    <div class="forum-posted-on">
      <time datetime="2016-05-13T13:23:32+02:00">vr, 13-05-2016 - 13.23u</time>
                    
        
                  </div>  
    
        
    <span class="forum-post-number"><a href="4359.html#comment-4359" class="permalink" rel="bookmark">#6</a></span>
  </div> 
  <div class="forum-post-wrapper">
    <div class="forum-post-panel-sub">
              <div class="author-pane" data-name="Henri Korver"><span class="username" xml:lang="" about="/gebruiker/henri-korver" typeof="sioc:UserAccount" property="foaf:name" datatype="">Henri Korver</span></div>          </div>

    <div class="forum-post-panel-main clearfix">
      
      <div class="forum-post-content">
        <span rel="sioc:reply_of" resource="/discussie/gemma/stuf-301/xml-serialization-nillable-elements-attributes-c" class="rdf-meta element-hidden"></span>
  <div class="field-comment-body">
    <p>Hieronder de twee beloofde functies:</p>

<p>        static public XNamespace xsi = "<a href="http://www.w3.org/2001/XMLSchema-instance">http://www.w3.org/2001/XMLSchema-instance</a>";<br />
        static public XNamespace stuf = "<a href="http://www.egem.nl/StUF/StUF0301">http://www.egem.nl/StUF/StUF0301</a>";</p>

<p>        /// &lt;summary&gt;<br />
        /// - toevoegen xsi:nil="true" in geval van noValue<br />
        /// - verwijderen van elementen met xsi:nil zonder noValue attribute<br />
        /// - leegmaken elementen met noValue attribute<br />
        /// &lt;/summary&gt;<br />
        static public XElement addNilAttributes(XElement root)<br />
        {      <br />
            IEnumerable&lt;XElement&gt; noValueElements =<br />
                from el in root.Descendants()<br />
                where (string)el.Attribute(stuf + "noValue") != null<br />
                select el;<br />
           <br />
            foreach (XElement el in noValueElements)<br />
            {<br />
                el.Add(new XAttribute(xsi + "nil", "true"));<br />
                el.ReplaceNodes(null); // make element empty<br />
            }</p>

<p>            IEnumerable&lt;XElement&gt; nilElements =<br />
                from el in root.Descendants()<br />
                where (string)el.Attribute(stuf + "noValue") == null &amp;&amp; (string)el.Attribute(xsi + "nil") != null<br />
                select el;<br />
           <br />
            nilElements.Remove();<br />
            return root;<br />
        }</p>

<p>        /// &lt;summary&gt;<br />
        /// Verwijderen xsi:nil="true" attribute uit alle elementen<br />
        /// &lt;/summary&gt;<br />
        static public XElement removeNilAttributes(XElement root)<br />
        {<br />
            root.DescendantsAndSelf().Attributes(xsi + "nil").Remove();<br />
            return root;<br />
        }</p>  </div>
      </div>

          </div>
  </div> 
  <div class="forum-post-footer clearfix">
    <div class="forum-jump-links">
      <a href="#forum-topic-top" title="Jump to top of page" class="af-button-small"><span>Bovenaan</span></a>
    </div>

    <div class="forum-post-links">
      <ul class="links inline"><li class="comment-delete-always first"><a href="4359/delete.html" class="af-button-small hidden"><span>verwijderen</span></a></li>
<li class="comment-edit-always"><a href="4359/edit.html" class="af-button-small hidden"><span>bewerken</span></a></li>
<li class="comment_forbidden last"><span><a href="../user/login13e4.html?destination=node/7577%23comment-form">Login</a> of <a href="../user/register13e4.html?destination=node/7577%23comment-form">registreer</a> om te kunnen reageren</span></li>
</ul>    </div>
  </div> </div> 
<a id="comment-4360"></a>


<div id="post-4360" class="forum-post clearfix nl posted-by-56 post-by-starter"  about="/comment/4360#comment-4360" typeof="sioc:Post sioct:Comment">
  <div class="forum-post-info clearfix">
    <div class="forum-posted-on">
      <time datetime="2016-05-13T13:32:25+02:00">vr, 13-05-2016 - 13.32u</time>
                    
        
                  </div>  
    
        
    <span class="forum-post-number"><a href="4360.html#comment-4360" class="permalink" rel="bookmark">#7</a></span>
  </div> 
  <div class="forum-post-wrapper">
    <div class="forum-post-panel-sub">
              <div class="author-pane" data-name="Henri Korver"><span class="username" xml:lang="" about="/gebruiker/henri-korver" typeof="sioc:UserAccount" property="foaf:name" datatype="">Henri Korver</span></div>          </div>

    <div class="forum-post-panel-main clearfix">
      
      <div class="forum-post-content">
        <span rel="sioc:reply_of" resource="/discussie/gemma/stuf-301/xml-serialization-nillable-elements-attributes-c" class="rdf-meta element-hidden"></span>
  <div class="field-comment-body">
    <p>@Lex: kun je hier ook de Java-versie van de addNilAttributes functie posten?</p>  </div>
      </div>

          </div>
  </div> 
  <div class="forum-post-footer clearfix">
    <div class="forum-jump-links">
      <a href="#forum-topic-top" title="Jump to top of page" class="af-button-small"><span>Bovenaan</span></a>
    </div>

    <div class="forum-post-links">
      <ul class="links inline"><li class="comment-delete-always first"><a href="4360/delete.html" class="af-button-small hidden"><span>verwijderen</span></a></li>
<li class="comment-edit-always"><a href="4360/edit.html" class="af-button-small hidden"><span>bewerken</span></a></li>
<li class="comment_forbidden last"><span><a href="../user/login13e4.html?destination=node/7577%23comment-form">Login</a> of <a href="../user/register13e4.html?destination=node/7577%23comment-form">registreer</a> om te kunnen reageren</span></li>
</ul>    </div>
  </div> </div> 
<a id="comment-4546"></a>


<div id="post-4546" class="forum-post clearfix nl posted-by-74"  about="/comment/4546#comment-4546" typeof="sioc:Post sioct:Comment">
  <div class="forum-post-info clearfix">
    <div class="forum-posted-on">
      <time datetime="2016-07-21T09:33:46+02:00">do, 21-07-2016 - 09.33u</time>
                    
        
                  </div>  
    
        
    <span class="forum-post-number"><a href="4546.html#comment-4546" class="permalink" rel="bookmark">#8</a></span>
  </div> 
  <div class="forum-post-wrapper">
    <div class="forum-post-panel-sub">
              <div class="author-pane" data-name="Vincent Beukers"><span class="username" xml:lang="" about="/gebruiker/vincent-beukers" typeof="sioc:UserAccount" property="foaf:name" datatype="">Vincent Beukers</span></div>          </div>

    <div class="forum-post-panel-main clearfix">
      
      <div class="forum-post-content">
        <span rel="sioc:reply_of" resource="/discussie/gemma/stuf-301/xml-serialization-nillable-elements-attributes-c" class="rdf-meta element-hidden"></span>
  <div class="field-comment-body">
    <p>Hoi Henri,</p>

<p> </p>

<p>Ook wij (Gemeente Alkmaar) lopen tegen een .NET probleem aan betreffende de xsi:nil attributen. WCF serialiseert objecten met het kenmerk xsi:nil en negeert daarbij alle attributen (omdat WCF vindt dat het object null is). Zijn jullie al tegen dit probleem aangelopen?</p>

<p> </p>

<p>Met vriendelijke groet,</p>

<p> </p>

<p>Vincent Beukers</p>

<p>Gemeente Alkmaar</p>  </div>
      </div>

          </div>
  </div> 
  <div class="forum-post-footer clearfix">
    <div class="forum-jump-links">
      <a href="#forum-topic-top" title="Jump to top of page" class="af-button-small"><span>Bovenaan</span></a>
    </div>

    <div class="forum-post-links">
      <ul class="links inline"><li class="comment-delete-always first"><a href="4546/delete.html" class="af-button-small hidden"><span>verwijderen</span></a></li>
<li class="comment-edit-always"><a href="4546/edit.html" class="af-button-small hidden"><span>bewerken</span></a></li>
<li class="comment_forbidden last"><span><a href="../user/login13e4.html?destination=node/7577%23comment-form">Login</a> of <a href="../user/register13e4.html?destination=node/7577%23comment-form">registreer</a> om te kunnen reageren</span></li>
</ul>    </div>
  </div> </div> 
<a id="comment-4696"></a>


<div id="post-4696" class="forum-post clearfix nl posted-by-686"  about="/comment/4696#comment-4696" typeof="sioc:Post sioct:Comment">
  <div class="forum-post-info clearfix">
    <div class="forum-posted-on">
      <time datetime="2016-10-18T21:36:01+02:00">di, 18-10-2016 - 21.36u</time>
                    
        
                  </div>  
    
        
    <span class="forum-post-number"><a href="4696.html#comment-4696" class="permalink" rel="bookmark">#9</a></span>
  </div> 
  <div class="forum-post-wrapper">
    <div class="forum-post-panel-sub">
              <div class="author-pane" data-name="Wouter van Noort"><span class="username" xml:lang="" about="/gebruiker/wouter-van-noort" typeof="sioc:UserAccount" property="foaf:name" datatype="">Wouter van Noort</span></div>          </div>

    <div class="forum-post-panel-main clearfix">
      
      <div class="forum-post-content">
        <span rel="sioc:reply_of" resource="/discussie/gemma/stuf-301/xml-serialization-nillable-elements-attributes-c" class="rdf-meta element-hidden"></span>
  <div class="field-comment-body">
    <p>Dit was het meest eenvoudige stukje van het probleem. Het lastige in .NET is dat als er via de standaard werkwijze een service-client wordt toegevoegd aan een project of een service wordt geimplementeerd op basis van gegenereerde proxy-objecten, deze code ergens in de WCF-pijplijn moet worden geinjecteerd. Het heeft dan ook een behoorlijke impact op performance en memory-gebruik. Vooral bij grote ZKN-berichten kan dit tot problemen leiden.</p>  </div>
      </div>

          </div>
  </div> 
  <div class="forum-post-footer clearfix">
    <div class="forum-jump-links">
      <a href="#forum-topic-top" title="Jump to top of page" class="af-button-small"><span>Bovenaan</span></a>
    </div>

    <div class="forum-post-links">
      <ul class="links inline"><li class="comment-delete-always first"><a href="4696/delete.html" class="af-button-small hidden"><span>verwijderen</span></a></li>
<li class="comment-edit-always"><a href="4696/edit.html" class="af-button-small hidden"><span>bewerken</span></a></li>
<li class="comment_forbidden last"><span><a href="../user/login13e4.html?destination=node/7577%23comment-form">Login</a> of <a href="../user/register13e4.html?destination=node/7577%23comment-form">registreer</a> om te kunnen reageren</span></li>
</ul>    </div>
  </div> </div> 
        </div>
  </div>
</div>
<div id="block-kc-marked-read-kc-marked-read-mark-as-read" class="block block-kc-marked-read">

    
  <div class="content">
    <form action="/comment/4546" method="post" id="kc-marked-read-mark-as-read-form" accept-charset="UTF-8"><div><input type="submit" id="edit-submit" name="op" value="Markeer forum als gelezen" class="form-submit" /><input type="hidden" name="form_build_id" value="form-Jrz5ASw0KMYCKwFKCkgSTJj6ODSSOVgvqOGxdBf5ESA" />
<input type="hidden" name="form_id" value="kc_marked_read_mark_as_read_form" />
</div></form>  </div>
</div>
    </main>
  </div>



  <!-- ______________________ FOOTER _______________________ -->

  <footer class="page-footer">

    <div class="l-contained">

      <div class="page-footer-left">
        <nav class="sitemap">
            <div id="block-menu-block-king-footer" class="block block-menu-block">

    
  <div class="content">
    <div class="menu-block-wrapper menu-block-king_footer menu-name-menu-footer parent-mlid-0 menu-level-1">
  <ul class="menu"><li class="first expanded menu-mlid-659"><span title="" class="nolink">kolom1</span><ul class="menu"><li class="first leaf menu-mlid-657"><a href="https://www.vngrealisatie.nl/onderwerpen" title="">Thema&#039;s</a></li>
<li class="leaf menu-mlid-678"><a href="https://www.vngrealisatie.nl/over-vngrealisatie" title="">Over VNG Realisatie</a></li>
<li class="last leaf menu-mlid-679"><a href="https://www.vngrealisatie.nl/werken-bij-vng-realisatie" title="">Vacatures</a></li>
</ul></li>
<li class="expanded menu-mlid-660"><span title="" class="nolink">kolom2</span><ul class="menu"><li class="first leaf menu-mlid-662"><a href="https://www.vngrealisatie.nl/agenda" title="">Agenda</a></li>
<li class="leaf menu-mlid-680"><a href="https://www.vngrealisatie.nl/nieuws" title="">Nieuws</a></li>
<li class="last leaf menu-mlid-681"><a href="https://www.vngrealisatie.nl/contact" title="">Contact</a></li>
</ul></li>
<li class="last expanded menu-mlid-661"><span title="" class="nolink">kolom3</span><ul class="menu"><li class="first leaf menu-mlid-663"><a href="https://twitter.com/VNGRealisatie" title="">Twitter</a></li>
<li class="leaf menu-mlid-683"><a href="https://nl.linkedin.com/company/vng-realisatie" title="">Linkedin</a></li>
<li class="last leaf menu-mlid-684"><a href="https://www.youtube.com/channel/UCg0bWcCn9Shnt57-L7hSbow" title="">Youtube</a></li>
</ul></li>
</ul></div>
  </div>
</div>
        </nav>
        <div class="page-footer-copy">
                                    <small><a href="https://www.vngrealisatie.nl/proclaimer-privacy">Proclaimer en Privacy</a></small>
                          <small><a href="https://www.vngrealisatie.nl/toegankelijkheid">Toegankelijkheid</a></small>
                                <small class="copyright">VNG Realisatie &copy; 2020</small>
        </div>

      </div>

      <div class="page-footer-right">

        <div class="partners">
          <small></small>        </div>

      </div>

    </div>
  </footer>

    <script>document.createElement( "picture" );</script>
<script src="../sites/king-community/files/js/js_Cf6GBDYzu65oL1kr4_LndVgcOzwoO6x0Jgck9kh1zx8.js"></script>
<script src="../sites/king-community/files/js/js_CkURqG1v2mnrTGOKTpikOUidepWhbYFbEsYLAHFin1Q.js"></script>
<script src="../sites/king-community/files/js/js_kLBXIeA677lZIRuVUTcDM3RIZV-u0yEZ7oF7birZu4I.js"></script>
  </body>

<!-- Mirrored from discussie.kinggemeenten.nl/comment/4546 by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 04 Mar 2020 16:03:55 GMT -->
</html>
